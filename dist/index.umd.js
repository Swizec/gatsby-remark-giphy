!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("unist-util-visit"),require("giphy-api")):"function"==typeof define&&define.amd?define(["unist-util-visit","giphy-api"],t):e.gatsbyRemarkGiphy=t(e.visit,e.giphyClient)}(this,function(e,t){function r(e){return"giphy-result:"+e}return e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(i,n){var o=i.cache,a=i.markdownAST;try{var u=[],l=t({apiKey:n.giphyApiKey,https:!0}),s=n.embedWidth||"100%";return e(a,"image",function(e){var t=e.url;t.startsWith("giphy:")&&u.push(function(){try{var i=t.replace(/^giphy:/,"");return Promise.resolve(o.get(r(i))).then(function(t){var a=function(){if(!t)return function(a,u){try{var m=Promise.resolve(l.search(i)).then(function(a){var u=a.data;t=n.useIframe?function(e,t,r){var i=Math.round(Number(t.images.original.height)/Number(t.images.original.width)*Number(r.replace("%","")));return e.type="html",e.children=void 0,e.value='<div style="width:'+r+";height:0;padding-bottom:"+i+'%;position:relative;margin: 0 auto"><iframe src="'+t.embed_url+'" width="100%" height="100%" style="position:absolute" frameborder="0" class="giphy-embed" allowfullscreen loading="lazy"></iframe></div>',e}(e,u[0],s):n.useVideo?function(e,t,r){var i="<source src="+u[0].images.looping.mp4+' type="video/mp4" />';return e.type="html",e.children=void 0,e.value='<video style="margin: auto auto; display: block; max-width: '+r+'" autoplay loop muted playsinline loading="lazy">\n            '+i+"\n        </video>",e}(e,0,s):function(e,t){var r=e.url.replace(/^giphy:/,"");return e.alt=r,e.url=t.images.downsized_large.url,e.title=e.title||r,e}(e,u[0]),o.set(r(i),t)})}catch(e){return u(e)}return m&&m.then?m.then(void 0,u):m}(0,function(e){throw e.message="The following error appeared while transforming Giphy for "+i+":\n\n"+e.message,e})}();return a&&a.then?a.then(function(e){return t}):t})}catch(e){return Promise.reject(e)}})}),Promise.resolve(Promise.all(u.map(function(e){return e()}))).then(function(){return a})}catch(e){return Promise.reject(e)}}});
//# sourceMappingURL=index.umd.js.map
