!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("unist-util-visit"),require("giphy-api")):"function"==typeof define&&define.amd?define(["unist-util-visit","giphy-api"],t):e.gatsbyRemarkGiphy=t(e.visit,e.giphyClient)}(this,function(e,t){return e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(r,n){var i=r.cache,o=r.markdownAST;try{var a=[],u=t({apiKey:n.giphyApiKey,https:!0});return e(o,"image",function(e){var t=e.url;t.startsWith("giphy:")&&a.push(function(){try{var r=t.replace(/^giphy:/,"");return Promise.resolve(i.get(r)).then(function(t){function n(n){e.url=t[0].images.downsized_large.url,e.alt=r,e.title=e.title||r}var o=function(){if(!t)return function(e,n){try{var o=Promise.resolve(u.search(r)).then(function(e){t=e.data,i.set(r,e.data)})}catch(e){return n(e)}return o&&o.then?o.then(void 0,n):o}(0,function(e){throw e.message="The following error appeared while searching Giphy for "+r+":\n\n"+e.message,e})}();return o&&o.then?o.then(n):n()})}catch(e){return Promise.reject(e)}})}),Promise.resolve(Promise.all(a.map(function(e){return e()}))).then(function(){return o})}catch(e){return Promise.reject(e)}}});
//# sourceMappingURL=index.umd.js.map
